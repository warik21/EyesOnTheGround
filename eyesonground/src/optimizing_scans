import pandas as pd
import numpy as np
import cProfile
import rasterio
from shapely.geometry import Point, MultiPolygon
from mpl_toolkits.basemap import Basemap
import matplotlib.pyplot as plt
from PIL import Image, ImageDraw
from utils.observatory import Observatory
import cv2
from glob import glob
from tqdm import tqdm

im_path = r'C:/Users/eriki/OneDrive/Documents/all_folder/other_projects/images_and_reults/eilat_updated.tif'  # Updated raster metadata

# camera_paths = glob('C:/Users/eriki/OneDrive/Documents/all_folder/other_projects/eriktron/eyesonground/src/Observatories_still/*.txt')
# cameras = [Observatory.load_from_file(camera_path) for camera_path in camera_paths]

# Define the section we want to scan in pixels:
x_min = 0
x_max = 1000
y_min = 0
y_max = 1000

# Define the camera's position from file:
camera_path = 'C:/Users/eriki/OneDrive/Documents/all_folder/other_projects/eriktron/eyesonground/src/Observatories_still/Camera1.txt'
camera = Observatory.load_from_file(camera_path)

class scan():
    """
    This class contains the important parts of what a scan should contain. 
    The start angle, end angle, speed and will be able to calculate the percentage of ground
    covered, the time the scan takes and how many oppurtunities of discovery there are.
    """